<%= render "shared/navbar" %>

<%= render "shared/gardencard", :locals => { :garden => @garden } %>

<div class="container">

  <p>Voici ce qu'on vous propose de planter:</p>

    <div class="justify-content-center">
      <% @implantation.each_with_index do |compartment, index| %>
        <div class="container card-comp" id="comp<%= index+1 %>">
          <p><%= "Compartiment #{index+1}"%></p>
          <div class="d-flex">
            <%compartment.each do |veggie| %>
              <div class="container card-veg-small flex-fill">
                <% if veggie.to_s != "" %>
                  <% vegetable = Vegetable.find_by(name: veggie)  %>
                  <%= cl_image_tag(vegetable.photo.key, width: 80, height: 80) %>
                  <div class="left">
                    <%= link_to "#{vegetable.name}", vegetable_path(vegetable.id) %>
                  </div>
                <% end %>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
      <div class="container text-center">
        <%= button_to "RafraÃ®chir", implant_path(@garden, array_of_veggie: params[:array_of_veggie]), method: :post, class: "myButton" %>
        <%= button_to "Valider", validate_garden_path(@garden), method: :post, params: {implantation: @implantation, counter: params["counter"]}, class: "myButton" %>
      </div>
    </div>
</div>
